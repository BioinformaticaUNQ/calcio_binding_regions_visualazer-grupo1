<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>CBRV</title>
    <link rel="stylesheet" href="css/metro.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div id="neutralinoapp">

      <div class="container-fluid">
        <div class="row">

          <div class="col-md-12" id="separator"></div>
          <div class="col-md-10 text-center">
            <div class="transparent-style">
              <h1>Calcio Binding Regions Visualizer</h1>
            </div>
          </div>
          <div class="col-md-2 text-center">
            <div class="transparent-style">
              <a href="#" onclick="Metro.dialog.open('#optionsDialog')">
                <h1 class="config" ><span class="mif-cog"></span></h1>
              </a>
            </div>
          </div>

          <div class="col-12">
            <div class="container transparent-style">
              <div class="row">

                <div class="col-md-3">
                  <button class="command-button col-12" onclick="window.lynxCBRV.openPDB();">
                    <span class="mif-folder icon"></span>
                    <span class="caption">
                      PDB File
                    </span>
                  </button>
                </div>
                <div class="col-md-6">
                  <input
                    type="text"
                    data-role="input"
                    class="divFilePath"
                    disabled
                    id="divFilePath" />
                </div>
                <div class="col-md-3">
                  <button class="command-button col-12" onclick="window.lynxCBRV.checkPDB();">
                    <span class="mif-checkmark icon"></span>
                    <span class="caption">
                      Check PDB
                    </span>
                  </button>
                </div>
                <div class="col-12 text-center" id="pdbNotify"></div>

              </div>
            </div>
          </div>

          <div class="col-12" id="alignDiv"></div>

          <div class="col-12" id="tableFoldx"></div>

          <div class="col-12">
            <div class="container">
              <div class="row">
                <div class="col-md-4">
                  <div class="col-12 transparent-style text-center">
                    <button
                      class="button"
                      name="button"
                      id="btnGenerateFASTA"
                      onclick="window.lynxCBRV.generateFasta();"
                      style="margin: 8px;" >
                      <span class="mif-clipboard"></span>&nbsp; Generate FASTA<span class="mif-clipboard"></span>
                    </button>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="col-12 transparent-style text-center">
                    <button
                      class="button"
                      name="button"
                      id="btnOpenGraphic"
                      onclick="window.lynxCBRV.graficarFasta();"
                      style="margin: 8px;" >
                      <span class="mif-chart-bars"></span>&nbsp; Open Graphic<span class="mif-chart-bars"></span>
                    </button>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="col-12 transparent-style text-center">
                    <button
                      class="button"
                      name="button"
                      id="btnShowAlignment"
                      onclick="window.lynxCBRV.showAlignment();"
                      style="margin: 8px;" >
                      <span class="mif-paragraph-justify"></span>&nbsp; Show alignment<span class="mif-paragraph-justify"></span>
                    </button>
                  </div>
                </div>
                <div class="col-md-12">
                  <div class="col-12 transparent-style text-center">
                    <button
                      class="button"
                      name="button"
                      id="btnExecFoldX"
                      onclick="window.lynxCBRV.execFoldX();"
                      style="margin: 8px; width: 98%; padding: 25px" >
                      <b><span class="mif-superscript"></span>&nbsp; Generate FoldX Files<span class="mif-superscript"></span></b>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>


          <div class="col-12">
            <div class="container transparent-style text-center">
              <div class="row">
                <div class="col-12 text-center">
                  <h2>Customize Regions</h2>
                </div>
                <div class="col-md-6">
                  Ángstrom (Å)
                  <input
                    type="number"
                    class="text-center"
                    name="amstrom"
                    value="4"
                    id="inputAmstom"
                    style="margin: 8px; width: 90%" />
                </div>
                <div class="col-md-6">
                  Color
                  <select data-role="select" id="selectColor">
                    <option value="blue">Blue</option>
                    <option value="red">Red</option>
                    <option value="violet">Violet</option>
                    <option value="yellow">Yellow</option>
                    <option value="magenta">Magenta</option>
                    <option value="pink">Pink</option>
                    <option value="cyan">Cyan</option>
                    <option value="orange">Orange</option>
                    <option value="olive">Olive</option>
                    <option value="green">Green</option>
                  </select>
                </div>

                <div class="col-12">
                  <button
                    class="button"
                    name="button"
                    id="btnOpenInPyMol"
                    onclick="window.lynxCBRV.openInPyMol();"
                    style="margin: 8px; width: 98%" >
                    <span class="mif-document-file-py"></span>&nbsp; Open In PyMol<span class="mif-document-file-py"></span>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <button
            class="button alert"
            name="button"
            id="btnExecFoldX"
            onclick="window.lynxCBRV.clear();"
            style="margin: 8px; width: 98%; padding: 35px" >
            <b><span class="mif-bin mif-3x"></span>&nbsp; CLEAR<span class="mif-bin mif-3x"></span></b>
          </button>

        </div>
      </div>

      <div class="dialog" data-role="dialog" id="optionsDialog">
        <div class="dialog-title text-center">Options</div>
        <div class="dialog-content container">
          <div class="row">
            <div class="col-9">
              Dark Mode:
            </div>
            <div class="col-3 text-center">
              <input
                class="switch"
                id="darkIndicator"
                type="checkbox"
                onchange="toggleDarkMode();"
                data-role="switch"
                checked
                data-off="off"
                data-on="on" />
            </div>

            <div class="col-md-12" id="separator2"></div>

            <div class="col-12 text-center">
              Principal Color
            </div>
            <div class="col-2">
              <button class="button col-12" style="background: #9500FF" onclick="changePrimaryColor('#9500FF')">
              </button>
            </div>
            <div class="col-2">
              <button class="button col-12" style="background: #49abe3" onclick="changePrimaryColor('#49abe3')">
              </button>
            </div>
            <div class="col-2">
              <button class="button col-12" style="background: #ff6600" onclick="changePrimaryColor('#ff6600')">
              </button>
            </div>
            <div class="col-2">
              <button class="button col-12" style="background: #68b445" onclick="changePrimaryColor('#68b445')">
              </button>
            </div>
            <div class="col-2">
              <button class="button col-12" style="background: #ef404a" onclick="changePrimaryColor('#ef404a')">
              </button>
            </div>
            <div class="col-2">
              <button class="button col-12" style="background: #f9bc64" onclick="changePrimaryColor('#f9bc64')">
              </button>
            </div>
            <div class="col-2">
              <button class="button col-12" style="background: #5d4236" onclick="changePrimaryColor('#5d4236')">
              </button>
            </div>
            <div class="col-2">
              <button class="button col-12" style="background: #9899eb" onclick="changePrimaryColor('#9899eb')">
              </button>
            </div>
            <div class="col-2">
              <button class="button col-12" style="background: #0f6447" onclick="changePrimaryColor('#0f6447')">
              </button>
            </div>

            <div class="col-md-12" id="separator3"></div>

            <div class="col-12 text-center">
              Program dependencies
              <span
                class="mif-info"
                data-role="hint"
                data-hint-text="biopython
                pymol
                matplotlib
                panel
                bokeh
                jupyter">
              </span>
            </div>

            <button
              class="button col-12 text-center"
              type="button" name="button"
              onclick="window.lynxCBRV.installReq();">
              <span class="mif-install"></span>&nbsp; Install dependencies<span class="mif-install"></span>
            </button>
          </div>
        </div>
        <div class="dialog-actions text-venter">
          <button class="button js-dialog-close">Ok</button>
        </div>
      </div>

      <div class="dialog text-center" id="fastaDialog" data-role="dialog">
        <div class="dialog-title">Wait, we are generating the FASTA</div>
        <div class="dialog-content text-center">
          <center>
            <div data-role="activity" data-type="bars" data-style="color"></div>
          </center>
        </div>
        <div class="dialog-actions text-venter">
          <button class="button js-dialog-close" style="display: none;">Ok</button>
        </div>
      </div>

      <div class="dialog text-center" id="AlignmentDialog" data-role="dialog">
        <div class="dialog-title">Wait, we are aligning the FASTA</div>
        <div class="dialog-content text-center">
          <center>
            <div data-role="activity" data-type="bars" data-style="color"></div>
          </center>
        </div>
        <div class="dialog-actions text-venter">
          <button class="button js-dialog-close" style="display: none;">Ok</button>
        </div>
      </div>


      <div class="dialog text-center" id="foldxDialog" data-role="dialog">
        <div class="dialog-title">Wait, we are running FoldX</div>
        <div class="dialog-content text-center">
          <center>
            <div data-role="activity" data-type="bars" data-style="color"></div>
          </center>
        </div>
        <div class="dialog-actions text-venter">
          <button class="button js-dialog-close" style="display: none;">Ok</button>
        </div>
      </div>

      <div class="dialog text-center" id="graphicDialog" data-role="dialog">
        <div class="dialog-title">Enjoy your graphic</div>
        <div class="dialog-content text-center">
          Please, if I finish using your graph, close it so that I can continue ...
        </div>
        <div class="dialog-actions text-venter">
          <button class="button js-dialog-close" style="display: none;">Ok</button>
        </div>
      </div>

      <div class="dialog text-center" id="depDialog" data-role="dialog">
        <div class="dialog-title">Please wait a moment</div>
        <div class="dialog-content text-center">
          We are installing the dependencies for the program. Remember you have to have Python3 installed.
        </div>
        <div class="dialog-actions text-venter">
          <button class="button js-dialog-close" style="display: none;">Ok</button>
        </div>
      </div>

      <button class="action-button second" id="consoleButtom" onclick="toggleConsole();">
        <span class="icon"><span class="mif-embed"></span></span>
      </button>

      <div data-role="charms" id="consoleCharm" data-position="bottom">
        <div class="container-fluid">
          <div class="row">
            <pre class="col-12" id="termOuput">asd</pre>
          </div>
        </div>
      </div>

    </div>
    <script src="js/neutralino.js"></script>
    <script src="js/metro.min.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
